<app-header></app-header>
<section class="list">
  <div class="list_wrapper">
    <h1 class="list_title">Pokemons</h1>
    <p class="list_description">
      Each course contains video lectures, tasks, and text materials. All
      courses viewed by you are displayed in your personal account
    </p>

    <form
      class="list_form"
      #form="ngForm"
      novalidate
      (submit)="getPokemonByName()"
    >
      <app-input-text
        [(ngModel)]="pokemonName"
        #name="ngModel"
        name="name"
        type="name"
        icon="icon-search"
        [required]="true"
        placeholder="Buscar pelo nome do pokemon"
        class="list_input"
      >
      </app-input-text>

      <app-button
        class="list_button"
        [disabled]="form.invalid"
        type="submit"
        color="royal"
        size="big"
      >
        Pesquisar
      </app-button>
    </form>

    <div *ngIf="!error; else errorFeedback">
      <ul class="list_list">
        <li *ngFor="let pokemon of listPokemons$ | async">
          <app-card-info
            [name]="pokemon?.name"
            [abilities]="pokemon?.abilities"
            [moves]="pokemon?.moves"
            [thumb]="pokemon?.thumb"
          ></app-card-info>
        </li>
      </ul>
    </div>

    <ng-template #errorFeedback>
      <h2 class="errorFeedback">Pokemon n√£o encontrado</h2>
    </ng-template>

    <footer class="list_footer">
      <app-pagination
        (prev)="prev()"
        (next)="next()"
        (goToPage)="goToPage($event)"
        [allPages]="allPages"
        [currentPage]="currentPage / 9"
      >
      </app-pagination>
    </footer>
  </div>
</section>
